{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2013021800/git-via-http-proxy","result":{"data":{"markdownRemark":{"id":"8cee5042-0299-55bd-9c97-022f6582ba28","html":"<p>FW などの内側だと git プロトコル (<code class=\"language-text\">git://github/〜</code>) での通信ができないこともあって、そういうときは http: なんかに変更してしのいでいました。</p>\n<p>しかし、Homebrew などのパッケージ管理システムに埋まっている URL がそうだとそもそも変更が面倒… ということで、回避策を探してみたらあっさり見つかりました。\nそんなわけで、git コマンドを HTTP Proxy 経由で利用する方法メモ。</p>\n<p><code class=\"language-text\">brew install corkscrew</code> で corkscrew コマンドをインストール。</p>\n<p>下記のような内容でシェルスクリプトを作成。\n今回は <code class=\"language-text\">$HOME/bin/git-proxy.sh</code> という名前で作った。\n<code class=\"language-text\">proxy.your.domain</code> の 8080 ポートで HTTP Proxy が動いていることを想定。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token shebang important\">#!/bin/sh</span>\n/usr/local/bin/corkscrew proxy.your.domain <span class=\"token number\">8080</span> <span class=\"token variable\">$1</span> <span class=\"token variable\">$2</span></code></pre></div>\n<p>環境変数 <code class=\"language-text\">GIT_PROXY_COMMAND</code> に上記のコマンドを指定すると、git 実行時に Proxy を使ってくるようになる。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">env</span> <span class=\"token assign-left variable\">GIT_PROXY_COMMAND</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/bin/git-proxy.sh brew <span class=\"token function\">install</span> multimarkdown</code></pre></div>\n<p>もっと早くやっておけばよかった…^^;</p>","fields":{"slug":"/posts/2013021800/git-via-http-proxy","tagSlugs":["/tag/git/"]},"frontmatter":{"date":"2013-02-18T19:19:01.000Z","description":"FW の内側から HTTP Proxy 経由で git プロトコルの通信をする。","tags":["git"],"title":"git を HTTP Proxy 経由で利用する","socialImage":null}}},"pageContext":{"slug":"/posts/2013021800/git-via-http-proxy"}},"staticQueryHashes":["251939775","401334301","825871152"]}