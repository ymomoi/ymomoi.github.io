{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/2012042300/ubuntu-server-auto-update","result":{"data":{"markdownRemark":{"id":"805a4c8e-e8d9-50df-8774-59ff748b8180","html":"<p>ubuntu server にセキュリティパッチなどを自動アップデートするように設定する。\nunattended-upgrades パッケージを入れれば OK。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">apt-get</span> update\n<span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> unattended-upgrades</code></pre></div>\n<p>設定ファイルは /etc/apt/apt.conf.d/50unattended-upgrades にある。適用するアップデート種類を指定する場合はこれを編集する。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Unattended-Upgrade::Allowed-Origins {\n        &quot;${distro_id} ${distro_codename}-security&quot;;\n//      &quot;${distro_id} ${distro_codename}-updates&quot;;\n//      &quot;${distro_id} ${distro_codename}-proposed&quot;;\n//      &quot;${distro_id} ${distro_codename}-backports&quot;;\n};</code></pre></div>\n<p>自動アップデートの対象にしたくないパッケージはここに記述する。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Unattended-Upgrade::Package-Blacklist {\n//      &quot;vim&quot;;\n//      &quot;libc6&quot;;\n//      &quot;libc6-dev&quot;;\n//      &quot;libc6-i686&quot;;\n};</code></pre></div>\n<p>アップデートログをメールで送る設定。\n成功/失敗共に通知するのか、失敗したときのみを選択できる。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// Send email to this address for problems or packages upgrades\n// If empty or unset then no email is sent, make sure that you\n// have a working mail setup on your system. The package &#39;mailx&#39;\n// must be installed or anything that provides /usr/bin/mail.\nUnattended-Upgrade::Mail &quot;root@localhost&quot;;\n// Set this value to &quot;true&quot; to get emails only on errors. Default\n// is to always send a mail if Unattended-Upgrade::Mail is set\n//Unattended-Upgrade::MailOnlyOnError &quot;true&quot;;</code></pre></div>","fields":{"slug":"/posts/2012042300/ubuntu-server-auto-update","tagSlugs":["/tag/linux/","/tag/ubuntu/"]},"frontmatter":{"date":"2012-04-23T00:00:00.000Z","description":"ubuntu server にセキュリティパッチなどを自動アップデートするように設定する。unattended-upgrades パッケージを入れれば OK。","tags":["Linux","Ubuntu"],"title":"ubuntu server に自動アップデート設定","socialImage":null}}},"pageContext":{"slug":"/posts/2012042300/ubuntu-server-auto-update"}},"staticQueryHashes":["251939775","401334301","825871152"]}